/*!
 * graph.
 * https://www.github.com/ryansmith94/Graph
 *
 * Copyright 2013, Ryan Smith and contributors.
 * Released under the CC BY-NC-SA 3.0 license.
 * http://creativecommons.org/licenses/by-nc-sa/3.0/
 *
 * 2013-05-30, 16:39.
*/
!function(a,b,c){"use strict";var d="parents",e="children",f=function(a,c){var d=b.keys(a),e=d.length,f=0;return function g(){return a[d[f]]===c[d[f]]?(f+=1,e>=f?g():!0):!1}()},g=function(a,b,c){return a.forEach(function(a){a[b]=a[b].concat(c)}),a},h=function(a,d,e,g){var h;return e=e||{},h=e&&"[object Function]"===b.prototype.toString.call(e)?e:function(a){return f(e,a)},function i(a,b){var e=[],f=b>0||b===c?i:function(){return[]};return a.forEach(function(a){e=a[d].filter(h),e=e.concat(f(a[d],b&&b-1))}),e}(a,g)},i=function(a,b,c){return a.forEach(function(a){c.forEach(function(c){a[b].splice(a[b].indexOf(c),1)})}),a},j=function(a,c){var f=function(a){return"[object Array]"!==b.prototype.toString.call(a)?[a]:a};return c=c||{},a=f(a),d=c.parentsKey||d,e=c.childrenKey||e,{parents:function(b,c){return h(a,d,b,c)},children:function(b,c){return h(a,e,b,c)},addParents:function(b){return g(a,d,g(f(b),e,a))},addChildren:function(b){return g(a,e,g(f(b),d,a))},removeParents:function(b){return i(a,d,i(f(b),e,a))},removeChildren:function(b){return i(a,e,i(f(b),d,a))}}};a.GRAPH=j}(window,Object);